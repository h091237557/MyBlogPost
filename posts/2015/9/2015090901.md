#Javascript非同步編程的方法（PUB/SUB）

在上面`Javascript單線程`與`Javascript之Event Driven`這兩篇文章中，我們大概了解了單線程與非同步事件的工作原理，在這篇中我們將會說明運用PUB/SUB設計模式來處理非同步事件。

在說明PUB/SUB方法之前，先來說明一下最基本的非同步的做法

首先看看下面的程式碼，`doSomething`函數需要等到取得到`data`才執行，但`getData`會執行很久，但下面的`doSomething1`與`2`不需要`data`就可以執行，所以這時這種寫法就會很浪費時間。

	var data = getData();
	doSomething(data);
	
	doSomething1();
	doSomething2();

所以我們將`getData`程式碼改成如下。

	function getData(callBack){			
		setTimeout(function(){
			//getData要執行的程式碼
			
			callBack();
		},10);
	}

然後我們整段程式碼就可以改成。

	getData(doSomething);
	doSomething1();
	doSomething2();

上面這種寫法，我們把同步操作轉變成非同步操作，getData不會阻塞住整個線程，以上就是其種一種的非同步的寫法，但這種寫法有個缺點就是很容易變成CallBack地獄。
